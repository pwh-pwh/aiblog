---
import Layout from '../../layouts/Layout.astro';
import Navbar from '../../components/Navbar';
import PostList from '../../components/PostList';
import Footer from '../../components/Footer.astro';
import { getCollection } from 'astro:content';

const posts = (await getCollection('blog')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);

const formattedPosts = posts.map((post) => ({
  ...post.data,
  slug: post.slug,
}));
---

<Layout title="Blog | Antigravity">
	<Navbar client:load />
	
	<main class="pt-32 pb-24 px-4">
		<div class="max-w-6xl mx-auto">
			<div class="mb-16 text-center">
				<h1 class="font-heading text-4xl md:text-6xl font-bold mb-6">
					All Articles
				</h1>
				<p class="text-xl text-muted-foreground max-w-2xl mx-auto">
					Explore our latest thoughts on design, engineering, and the future of the web.
				</p>
			</div>

			<PostList client:load posts={formattedPosts} />
		</div>
	</main>

	<Footer />
</Layout>
